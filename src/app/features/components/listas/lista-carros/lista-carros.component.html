<button type="button" class="btn btn-excel" data-bs-toggle="dropdown" (click)="descargarExcel()">
  <span><img src="assets/excel-icon.png" id="img" alt="Intercambiar"  class="default-img-icon-size"> Exportar excel</span>
</button>

<div class="listaVehiculoContainer">
  <h2>Lista Vehiculos</h2>
  <table class="table table-striped table-sm">
    <thead class="table-dark">
    <tr>
      <th class="text-center">Num.Unidad</th>
      <th class="text-center">Modelo</th>
      <th class="text-center">Tipo Vehiculo</th>
      <th class="text-center">AÃ±o</th>
      <th class="text-center" style="font-size: 12px;">Consumo Medio</th>
      <th class="text-center">Acciones</th>
    </tr>
    </thead>
    <tbody class="table-dark">
    <tr *ngFor="let carro of carros | paginate: {itemsPerPage: 10, currentPage: p}">
      <td class="text-center">
        <button 
              type="button" 
              (click)="detallesVehiculo(carro)" 
              class="btn btn-sm botonesAccion"
              data-bs-toggle="tooltip" 
              data-bs-placement="bottom"
              data-bs-toggle="modal" 
              data-bs-target="#card-bus-detail">
            <span 
              id="numUnidad" 
              class="font-color-num-unidad"  
              data-bs-toggle="tooltip" 
              data-bs-placement="bottom"
              data-bs-original-title="Ver detalles unidad">
                {{getNumeroUnidadFormateado(carro.numeroUnidad)}}
          </span>
        </button>
      </td>
      <td class="text-center">{{carro.marca + ' ' + carro.modelo | uppercase}}</td>
      <td class="text-center">{{carro.tipoVehiculo}}</td>
      <td class="text-center">{{carro.anyo}}</td>
      <td class="text-center">{{carro.consumo}}</td>
      <td>
        <button 
        (click)="verHistorial(carro,true)" 
        class="btn btn-primary botonesAccion btn-sm" 
        data-bs-toggle="modal"
        data-bs-target="#verHistorialPopUp">
          <span 
          class="button-icon"  
          data-bs-toggle="tooltip" 
          data-bs-placement="bottom"
          data-bs-original-title="Historial de mantenimeinto">
            <fa-icon class="eyeIcon" [icon]="repairIcon"></fa-icon>
          </span>
        </button>
        <button 
        (click)="verHistorial(carro,false)" 
        class="btn btn-info botonesAccion btn-sm" 
        data-bs-toggle="modal" 
        data-bs-target="#verHistorialPopUp">
          <span 
          data-bs-toggle="tooltip" 
          data-bs-placement="bottom"
          data-bs-original-title="Historial"
          class="button-icon">
            <fa-icon class="deleteIcon" [icon]="historyIcon"></fa-icon>
          </span>
        </button>
        <button 
          (click)="detallesVehiculo(carro)" 
          class="btn btn-primary botonesAccion btn-sm" 
          data-bs-toggle="modal" 
          data-bs-target="#card-bus-detail">
            <span 
            class="button-icon"
            data-bs-toggle="tooltip" 
            data-bs-placement="bottom"
            data-bs-original-title="Detalles">
              <fa-icon class="eyeIcon" [icon]="eyeIcon">
              </fa-icon>
            </span>
        </button>
        <button 
        (click)="actualizarCarro(carro.id)" 
        class="btn btn-warning botonesAccion btn-sm">
          <span class="button-icon"
            data-bs-toggle="tooltip" 
            data-bs-placement="bottom"
            data-bs-original-title="Editar vehiculo">
            <fa-icon class="editIcon" [icon]="editIcon">
            </fa-icon></span>
        </button>
        <button
          (click)="eliminarCarro(carro.id)" 
          class="btn btn-danger botonesAccion btn-sm">
          <span 
            class="button-icon"
            data-bs-toggle="tooltip" 
            data-bs-placement="bottom"
            data-bs-original-title="Editar vehiculo">
            <fa-icon class="deleteIcon" [icon]="deleteIcon">
            </fa-icon>
          </span>
        </button> 
      </td>  
    </tr>
    </tbody>
</table>
  <div class="pagination-container">
    <pagination-controls 
    (pageChange)="p = $event"
    previousLabel="Anterior" 
    nextLabel="Siguiente"></pagination-controls>
  </div>
</div>
<app-popup-historial-vehiculos [changeDetecterFlag]="changeDetecterFlag" [carroSeleccionadoDetalles]="carroSeleccionadoDetalles"> </app-popup-historial-vehiculos>
<app-card-bus-detail [carroSeleccionadoDetalles]="carroSeleccionadoDetalles"></app-card-bus-detail>









