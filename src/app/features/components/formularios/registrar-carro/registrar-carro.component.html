    <form [formGroup]="carroForm" class="formContainer"(ngSubmit)="onSubmit()">
        <!-- Paso 1: Carro -->



        <div *ngIf="step === 1" formGroupName="carro" >
            <h2>Datos del Carro</h2>


            <div class="d-flex align-items-start gap-5 separador">
                <div class="form-group">
                    <label for="numeroUnidad">Núm Unidad:</label>
                    <input id="numeroUnidad" class="number-input-custom-style" formControlName="numeroUnidad" placeholder="N.unidad" />
                </div>
                <div class="form-group">
                    <label for="tipoVehiculo">Tipo de vehículo:</label>
                    <div class="row">
                        <div class="col">
                            <select class="form-select bg-dark form-select-lg mb-3 input-custom-style select-custom-style" aria-label=".form-select-lg example" id="tipoVehiculo" formControlName="tipoVehiculo">
                                <option selected disabled>Selecciona un tipo de vehículo</option>
                                <option *ngFor="let tipos of listaTipoVehiculos" [ngValue]="tipos.descripcion">{{ tipos.descripcion }}</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>


            <div class="d-flex align-items-start gap-5 separador">
                <div>
                    <label class="label-input" for="marca">Marca:</label>
                    <input
                        id="marca"
                        formControlName="marca"
                        placeholder="Ingrese marca"/>
                </div>

                <div>
                    <label for="anyo">Año:</label>
                    <input id="anyo"
                        appOnlyNumber
                        formControlName="anyo"
                        placeholder="Año"
                        type="text"
                        class="number-input-custom-style year-input"
                        maxlength="4" />
                </div>
            </div>


            <div class="separador">
                <div>
                    <label for="modelo">Modelo:</label>
                    <input id="modelo" formControlName="modelo" type="text" placeholder="Ingrese el modelo" />
                </div>

                <div>
                    <label for="consumo">Litros C/100 Km:</label>
                    <input id="consumo" maxlength="3" class="number-input-custom-style" formControlName="consumo" placeholder="L/100" type="text" />
                </div>
            </div>



            </div>





































































        <!-- Paso 2: Batería -->
        <div *ngIf="step === 2" formGroupName="bateria">
            <h2>Información de la Batería</h2>

                <div class="d-flex align-items-start gap-5 separador">
                    <div class="form-group">
                        <label for="marca">Marca:</label>
                        <input type="text" class="form-control" id="marca" aria-describedby="emailHelp" placeholder="Ingrese Marca">
                      </div>

                    <div class="form-group text-area-position">
                        <label for="obs">{{OBSERVACION_TITULO}}</label>
                        <textarea class="form-control" id="obs" rows="3" formControlName="observaciones" placeholder="Comentario/Observaciones"></textarea>
                      </div>
                </div>

                    <div>
                        <label for="modelo">Modelo:</label>
                        <input id="modelo" formControlName="modelo" placeholder="Modelo" />
                    </div>
                    <div>
                        <label for="capacidad">Capacidad:</label>
                        <input id="capacidad" appOnlyNumber class="form-control number-input-custom-style" formControlName="capacidad" placeholder="Watts" type="text" />
                    </div>
                </div>

                <!-- <div>
                <label for="fechaInstalacion">Fecha de Instalación:</label>
                <input id="fechaInstalacion" formControlName="fechaInstalacion" placeholder="Ingrese la fecha de instalación" type="date" />
                <div *ngIf="carroForm.get('bateria.fechaInstalacion')?.invalid && carroForm.get('bateria.fechaInstalacion')?.touched">
                    <small class="error" *ngIf="carroForm.get('bateria.fechaInstalacion')?.hasError('required')">La fecha de instalación es obligatoria.</small>
                </div>
                </div> -->

                <!-- <div>
                <label for="fechaRetiro">Fecha de Retiro:</label>
                <input id="fechaRetiro" formControlName="fechaRetiro" placeholder="Ingrese la fecha de retiro" type="date" />
                <div *ngIf="carroForm.get('bateria.fechaRetiro')?.invalid && carroForm.get('bateria.fechaRetiro')?.touched">
                    <small class="error" *ngIf="carroForm.get('bateria.fechaRetiro')?.hasError('required')">La fecha de retiro es obligatoria.</small>
                </div>textarea-custom-style
                </div> -->




        <!-- Paso 3: Título de Propiedad -->
        <div *ngIf="step === 3" formGroupName="tituloPropiedad">


            <h2>Información del Título de Propiedad</h2>
            <div class="d-flex align-items-start gap-5 separador">
                <div class="form-group">
                    <label for="nombre">{{RAZON_TITULO}}</label>
                    <input type="text" class="form-control" id="nombre" formControlName="nombre" placeholder="Nombre/Razón social">
                </div>

                <div class="form-group">
                    <label for="obs">{{OBSERVACION_TITULO}}</label>
                    <textarea class="form-control"  id="obs" rows="3" formControlName="observaciones" placeholder="Comentario/Observaciones"></textarea>
                </div>
            </div>

            <div class="form-group">
                <label for="imagen">Adjuntar archivo</label>
                <input type="file"  formControlName="imagen" class="form-control-file file-selector-input" id="imagen">
            </div>


        </div>








            <!-- Paso 4: Póliza -->
        <div *ngIf="step === 4" formGroupName="poliza">
            <h2>Información de la Póliza</h2>

            <div class="d-flex align-items-start gap-5 separador">
                <div class="form-group">
                    <label for="aseguradora">Aseguradora:</label>
                    <input id="aseguradora" class="form-control" formControlName="aseguradora" placeholder="Ingrese la aseguradora" />
                </div>
                <div class="form-group margin-left-5em">
                    <label for="poliza">Póliza Num:</label>
                    <input id="poliza" formControlName="poliza" style="width: 7em;" placeholder="Num. Póliza" />
                </div>
            </div>
            <div class="form-group mt-3">
                <label for="cobertura">Cobertura:</label>
                <input id="cobertura" formControlName="cobertura" placeholder="Ingrese la cobertura" />
            </div>


            <div class="d-flex gap-5 separador">
                <div class="form-group">
                        <div class="form-group">
                        <label for="fecha-expedicion" class="d-block">Fecha Expedición:</label>
                        <mat-form-field id="mat-picker-date-component"
                        class="full-width date-picker">
                            <input
                                matInput
                                [matDatepicker]="picker"
                                name="fecha-expedicion"
                                id="fecha-expedicion"
                                class="form-control"
                                placeholder="Ingrese fecha expedición"
                                formControlName="fechaInicio"
                                readonly>
                            <mat-datepicker-toggle
                                matIconSuffix [for]="picker" class='toggle-picker-enabled'>
                            </mat-datepicker-toggle>
                            <mat-datepicker id="dataPicker" #picker></mat-datepicker>
                        </mat-form-field>
                        <!-- <label for="fechaInicio">Fecha Expedición:</label>
                        <input id="fechaInicio" formControlName="fechaInicio" type="date" /> -->
                    </div>
                </div>



                    <div class="form-group" style="margin-top: 5em;">
                        <label for="diasPorVencer">Días por Vencer:</label>
                        <input id="diasPorVencer" class="number-input-custom-style" formControlName="diasPorVencer" type="text" />
                    </div>
                </div>


                <div class="form-group custom-style">
                  <label for="fechaExpire" class="d-block">Fecha Vencimiento/Expiración:</label>
                  <mat-form-field id="mat-picker-date-component"
                  class="full-width date-picker">
                      <input
                          matInput
                          [matDatepicker]="picker"
                          name="fecha-expire"
                          id="fecha-expire"
                          class="form-control"
                          placeholder="Ingrese fecha"
                          formControlName="fechaExpire"
                          readonly>
                      <mat-datepicker-toggle
                          matIconSuffix [for]="picker" class='toggle-picker-enabled'>
                      </mat-datepicker-toggle>
                      <mat-datepicker id="dataPicker" #picker></mat-datepicker>
                  </mat-form-field>
                    <!-- <label for="fechaExpire">Fecha de Expiración:</label>
                    <input id="fechaExpire" formControlName="fechaExpire" type="date" /> -->
                </div>


            <div>
                <label for="observaciones">Observaciones:</label>
                <textarea id="observaciones" formControlName="observaciones" class="mb-4" placeholder="Ingrese las observaciones"></textarea>
            </div>

        </div>


        <!-- Paso 5: Imágenes -->
    <div *ngIf="step === 5">
        <h2>Imágenes del Carro</h2>
            <!-- Agregar imagen -->
            <div>
            <label for="imagenes">Cargar Imágenes:</label>
            <!-- <input type="file" (change)="onFileChange($event)" multiple /> -->
            </div>

            <div class="mb-3">
                <label for="formFileSm" class="form-label">Imagenes</label>
                <input class="form-control form-control-sm file-selector-input" id="formFileSm" type="file" multiple (change)="onFileSelected($event)">
                <small class="form-text text-muted" *ngIf="selectedFiles.length >= 1"> {{selectedFiles.length}} archivo(s) seleccionado(s)</small>
                <div *ngFor="let selectedFile of selectedFiles; let i = index" class="form-check">
                    <input class="form-check-input" type="checkbox" [checked]="true">
                    <label class="form-check-label">
                        {{selectedFile.name}}
                    </label>
                </div>
            </div>






            <!-- Mostrar imágenes cargadas -->
            <!-- <div *ngIf="carroForm.get('imagenes').value.length > 0">
                <h3>Imágenes Cargadas</h3>
                <div *ngFor="let img of carroForm.get('imagenes').value">
                    <img [src]="img" alt="Imagen del carro" width="100" />
                </div>
            </div>

            -->
                <!-- Botón para pasar al siguiente paso -->
                <button type="submit" [disabled]="carroForm.invalid">Guardar</button>
        </div>

            <!-- Botón para pasar al siguiente paso -->
            <button type="button" (click)="backStep()">Atrás</button>


            <button *ngIf="!(this.step === 5)" type="button" (click)="nextStep()">Siguiente</button>
        </form>






        <!-- <form (ngSubmit)="onSubmit()" id="registraCarroForm">
            <div class="form-group">
                <div>
                    <label>Marca : </label>
                </div>
                <div class="row">
                    <div class="col">
                    <input type = "text" class="form-control" id="modelo" [(ngModel)] = "carro.marca" name="marca" [ngClass]="{ 'input-grueso': !noMarcaError, 'input-error': noMarcaError }" (input)="onInputChange()">
                    </div>
                    <div class="col">
                        <small *ngIf="noMarcaError" class="text-danger">{{mensajeCampoMarcaObligatorio}}</small>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div>
                    <label>Modelo : </label>
                </div>
                <div class="row">
                    <div class="col">
                    <input type = "text" class="form-control" id="modelo" [(ngModel)]="carro.modelo" name="modelo" [ngClass]="{ 'input-grueso': !noModeloError, 'input-error': noModeloError }" (input)="onInputChange()">
                    </div>
                    <div class="col">
                        <small *ngIf="noModeloError" class="text-danger">El campo modelo es obligatorio.</small>
                    </div>
                </div>
            </div>


            <div class="form-group">
                <div>
                    <label>Tipo de vehiculo : </label>
                </div>
                <div class="row">
                    <div class="col">
                        <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="tipoDeVehiculo" [(ngModel)]="carro.tipoDeVehiculo">
                            <option selected disabled>Selecciona un tipo de vehiculo</option>
                            <option *ngFor="let tipos of listaTipoVehiculos" [ngValue]="tipos.descripcion">{{ tipos.descripcion }}</option>
                        </select>
                    </div>
                    <div class="col">
                        <small *ngIf="noModeloError" class="text-danger">El campo modelo es obligatorio.</small>
                    </div>
                </div>
            </div>


            <div class="mb-3">
                <label for="formFileSm" class="form-label">Imagenes</label>
                <input class="form-control form-control-sm" id="formFileSm" type="file" multiple (change)="onFileSelected($event)">
                <small class="form-text text-muted" *ngIf="selectedFiles.length >= 1"> {{selectedFiles.length}} archivo(s) seleccionado(s)</small>
                <div *ngFor="let selectedFile of selectedFiles; let i = index" class="form-check">
                    <input class="form-check-input" type="checkbox" [checked]="true">
                    <label class="form-check-label">
                        {{selectedFile.name}}
                    </label>
                </div>
            </div>



            <div class="form-group">
                <div>
                    <label>Año YYYY: </label>
                </div>
                <div class="row">
                    <div class="col">
                        <input maxlength="4" type = "text" class="form-control anyoInput defaultSizeInput" id="anyo" [(ngModel)] = "carro.anyo" name="anyo" (input)="onInputChange()" appOnlyNumber (nonNumericCount)="handleNonNumericCount($event, 'anyo')" [ngClass]="{ 'input-grueso':!noAnyoError , 'input-error': noAnyoError }">
                    </div>
                    <div class="col">
                        <small *ngIf="nonNumericError" class="text-danger">La fecha debe introducirse en formato "YYYY", en numeros, ejemplo año actual : "{{anyoActual}}"</small>
                        <small *ngIf="noAnyoError" class="text-danger">{{mensaje}}</small>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Consumo aproximado cada 100 km: </label>
                    <div class="row">
                        <div class="col">
                            <input type = "text" (input)="onInputChange()"  class="form-control defaultSizeInput" id="consumoDefecto" [(ngModel)] = "carro.consumo" name="consumo" appOnlyNumber  (nonNumericCount)="handleNonNumericCount($event, 'consumo')" [ngClass]="{ 'input-grueso':!nonNumericConsumo , 'input-error': nonNumericConsumo }"  >
                        </div>
                        <div class="col">
                            <small *ngIf="nonNumericConsumo" class="text-danger">Solo se aceptan números.</small>
                        </div>
                    </div>
                </div>
            <div class="form-group">
                <label>Numero Unidad : </label>
                    <div class="row">
                        <div class="col">
                            <input maxlength="4" type = "text" (input)="onInputChange()" class="form-control defaultSizeInput" id="numeroUni"  [ngClass]="{'input-error': noNumeroUnidad || nonNumericNumUnidad || unidadRepetida, 'input-grueso': !noNumeroUnidad && !nonNumericNumUnidad}"  [(ngModel)] = "carro.numeroUnidad" name="numUnidad" appOnlyNumber (nonNumericCount)="handleNonNumericCount($event, 'numeroUni')">
                        </div>
                        <div class="col">
                            <small *ngIf="nonNumericNumUnidad" class="text-danger">{{mensajeNumeroUnidadFormato}}</small>
                            <small *ngIf="noNumeroUnidad" class="text-danger">{{mensajeNumeroUnidadCampoObligatorio}}</small>
                            <small *ngIf="unidadRepetida" class="text-danger">{{mensajeNumeroUnidadRegistrada}}</small>
                        </div>
                </div>
            </div>
                <div class="text-center">
                    <button class="btn btn-primary saveButtonRegistrarCarro">Guardar</button>
                </div>
            </form> -->
        <!-- </div> -->
